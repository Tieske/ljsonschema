* missing external resolver
* external resovler error handling
* seems a lot of duplicated code is generated, can this be done more efficient?
